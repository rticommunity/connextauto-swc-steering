<?xml version="1.0" encoding="UTF-8"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://community.rti.com/schema/7.3.0/rti_routing_service.xsd"
    version="7.3.0">
    <types>
        <struct name="SteeringStatus">
            <member name="position" type="float32" />
        </struct>
        <struct name="SteeringCommand">
            <member name="position" type="float32" />
            <member name="speed" type="float32" />
        </struct>
    </types>

    <qos_library name="SteeringColumn_Library">
        <qos_profile name="DPF_Profile" is_default_participant_factory_profile="true">
            <participant_factory_qos>
                <entity_factory>
                    <autoenable_created_entities>false</autoenable_created_entities>
                </entity_factory>
            </participant_factory_qos>
        </qos_profile>
        <qos_profile name="DP_Profile">
        </qos_profile>
        <qos_profile name="SteeringCommand" base_name="BuiltinQosLib::Pattern.Event">
            <datareader_qos>
                <liveliness>
                    <lease_duration>
                        <!-- 150 ms -->
                        <sec>DURATION_ZERO_SEC</sec>
                        <nanosec>150000000</nanosec>
                    </lease_duration>
                </liveliness>
                <deadline>
                    <period>
                        <sec>2</sec>
                        <nanosec>DURATION_ZERO_NSEC</nanosec>
                    </period>
                </deadline>
                <ownership>
                    <kind>EXCLUSIVE_OWNERSHIP_QOS</kind>
                </ownership>
            </datareader_qos>
            <datawriter_qos>
                <liveliness>
                    <lease_duration>
                        <!-- 50 ms -->
                        <sec>DURATION_ZERO_SEC</sec>
                        <nanosec>50000000</nanosec>
                    </lease_duration>
                </liveliness>
                <deadline>
                    <period>
                        <sec>1</sec>
                        <nanosec>DURATION_ZERO_NSEC</nanosec>
                    </period>
                </deadline>
                <ownership>
                    <kind>EXCLUSIVE_OWNERSHIP_QOS</kind>
                </ownership>
                <ownership_strength>
                    <!-- Configured via API -->
                </ownership_strength>
            </datawriter_qos>
        </qos_profile>
        <qos_profile name="SteeringStatus" base_name="BuiltinQosLib::Pattern.Status">
            <datareader_qos>
                <liveliness>
                    <lease_duration>
                        <!-- 500 ms -->
                        <sec>DURATION_ZERO_SEC</sec>
                        <nanosec>500000000</nanosec>
                    </lease_duration>
                </liveliness>
            </datareader_qos>
            <datawriter_qos>
                <liveliness>
                    <lease_duration>
                        <!-- 250 ms -->
                        <sec>DURATION_ZERO_SEC</sec>
                        <nanosec>250000000</nanosec>
                    </lease_duration>
                </liveliness>
            </datawriter_qos>
        </qos_profile>
    </qos_library>

    <domain_library name="SteeringColumn_DomainLibrary">
        <domain name="UserControls" domain_id="0">
            <register_type name="SteeringStatus" type_ref="SteeringStatus" />
            <register_type name="SteeringCommand" type_ref="SteeringCommand" />
            <topic name="SteeringStatusTopic" register_type_ref="SteeringStatus" />
            <topic name="SteeringCommandTopic" register_type_ref="SteeringCommand" />
        </domain>
    </domain_library>

    <domain_participant_library name="SteeringColumnParticipantLibrary">
        <domain_participant name="Controller"
            domain_ref="SteeringColumn_DomainLibrary::UserControls">
            <publisher name="Publisher">
                <data_writer name="SteeringCommandTopicWriter" topic_ref="SteeringCommandTopic">
                    <datawriter_qos base_name="SteeringColumn_Library::SteeringCommand">
                    </datawriter_qos>
                </data_writer>
                <publisher_qos base_name="SteeringColumn_Library::SteeringCommand">
                </publisher_qos>
            </publisher>
            <subscriber name="Subscriber">
                <data_reader name="SteeringStatusTopicReader" topic_ref="SteeringStatusTopic">
                    <datareader_qos base_name="SteeringColumn_Library::SteeringStatus">
                    </datareader_qos>
                </data_reader>
                <subscriber_qos base_name="SteeringColumn_Library::SteeringStatus">
                </subscriber_qos>
            </subscriber>
            <domain_participant_qos base_name="SteeringColumn_Library::DP_Profile">
            </domain_participant_qos>
        </domain_participant>
        <domain_participant name="Display" domain_ref="SteeringColumn_DomainLibrary::UserControls">
            <subscriber name="Subscriber">
                <data_reader name="SteeringStatusTopicReader" topic_ref="SteeringStatusTopic">
                    <datareader_qos base_name="SteeringColumn_Library::SteeringStatus">
                    </datareader_qos>
                </data_reader>
                <subscriber_qos base_name="SteeringColumn_Library::SteeringStatus">
                </subscriber_qos>
            </subscriber>
            <domain_participant_qos base_name="SteeringColumn_Library::DP_Profile">
            </domain_participant_qos>
        </domain_participant>
        <domain_participant name="SteeringColumn"
            domain_ref="SteeringColumn_DomainLibrary::UserControls">
            <publisher name="Publisher">
                <data_writer name="SteeringStatusTopicWriter" topic_ref="SteeringStatusTopic">
                    <datawriter_qos base_name="SteeringColumn_Library::SteeringStatus">
                    </datawriter_qos>
                </data_writer>
                <publisher_qos base_name="SteeringColumn_Library::SteeringStatus">
                </publisher_qos>
            </publisher>
            <subscriber name="Subscriber">
                <data_reader name="SteeringCommandTopicReader" topic_ref="SteeringCommandTopic">
                    <datareader_qos base_name="SteeringColumn_Library::SteeringCommand">
                    </datareader_qos>
                </data_reader>
                <subscriber_qos base_name="SteeringColumn_Library::SteeringCommand">
                </subscriber_qos>
            </subscriber>
            <domain_participant_qos base_name="SteeringColumn_Library::DP_Profile">
            </domain_participant_qos>
        </domain_participant>
    </domain_participant_library>
</dds>